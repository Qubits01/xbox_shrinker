# xbox_shrinker
This program will remove (scrub) the random padding found in (OG) xbox iso file. The iso files need to be in redump format.
The scrubbed iso is still fully functional and can be used in emulators etc. Compressed scrubbed isos are usually several GB smaller than the unscrubbed counterparts.
The program also supports unscrubbing of the iso and reconstruction of the original file.

# on the random padding
Random padding data is generated by a cryptographic function that generates a stream of random bytes with the use of a seed value. This stream of random data is written to the unused areas of the game partition. Random data has a compression ratio of 0%. Therefore, less gamedata generally means worse overall compression, whereas in scrubbed images the opposite is true.

If the seed value for the random stream is known, the random padding data can be reconstructed.

Early xbox games used a stream algorithm, that uses a 4-Byte seed. This seed can easily be brute-forced in less than a minute. Unfortunately, Microsoft decided later to change the stream algorithm to rc4-drop-2048

# Credits
* [LedZeppelin68](https://github.com/LedZeppelin68/dvd-shrinker) for his dvd_shrinker program. This is actually a heavily modified version of his program. Especially his implementation of the seed brute-forcer was very helpful!
* [XboxDev](https://github.com/XboxDev/extract-xiso) for extract_xiso. Parts were used for the analysis of the iso layout.

# Features
Improvements over LedZeppelin68's dvd-shrinker
* works without ss.xml (at the cost of calculation time)
* speed improvement for scrubbing process (due to new algorithm)

new features
* supports 
